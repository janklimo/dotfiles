; Based on https://raw.githubusercontent.com/johnlindquist/dotfiles/master/karabiner/karabiner.edn
; Tutorial: https://github.com/yqrashawn/GokuRakuJoudo/blob/master/tutorial.md

{;
 :alone 500
 :delay 200
 :held 500
 :sim 200
 :simlayer-threshold 222

 :applications {:chrome ["com.google.Chrome"]
                :code ["com.microsoft.VSCode"]}

 :simlayers {:emoji-mode {:key :z}
             :f-mode {:key :f}}

 :templates {;
             :paste "osascript -e 'set the clipboard to \"%s\"
                                   tell application \"System Events\"
                                     keystroke \"v\" using command down
                                   end tell'"
             :focus "osascript -e 'tell application \"%s\" to activate'"
             ; 
             }

 :main [;
        {:des "caps_lock"
         :rules [[:##escape :left_control nil {:alone :escape}]]}

        {:des "emoji"
         :rules [:emoji-mode
                 [:b [:paste "ğŸ˜Š"]] ;blush
                 [:c [:paste "ğŸ‘"]] ;clap
                 [:d [:paste "ğŸ§"]] ;dignified
                 [:f [:paste "ğŸ¤¦â€â™‚ï¸"]] ;facepalmï¸
                 [:g [:paste "ğŸ˜¬"]] ;grimace
                 [:h [:paste "ğŸ˜"]] ;heart-eyes
                 [:i [:paste "ğŸ‘€"]] ;I
                 [:j [:paste "ğŸ˜‚"]] ;joking
                 [:l [:paste "â¤ï¸"]] ;love
                 [:m [:paste "ğŸ¤¯"]] ;mind blown 
                 [:p [:paste "ğŸ‰"]] ;party
                 [:q [:paste "ğŸ¤«"]] ;quiet
                 [:r [:paste "ğŸš€"]] ;rocket
                 [:s [:paste "ğŸ˜¢"]] ;sad
                 [:t [:paste "ğŸ¤”"]] ;thinking
                 [:u [:paste "ğŸ¤·â€â™‚ï¸"]] ;shrUg
                 [:v [:paste "ğŸ˜"]] ;very cool
                 [:w [:paste "ğŸ˜‰"]] ;wink:
                 [:x [:paste "ğŸ˜µ"]] ;x-eyes
                 [:y [:paste "ğŸ˜…"]] ;sweatY
                 [:left_command [:paste "ğŸ‘"]]
                 [:left_option [:paste "ğŸ‘"]]]}
            ; 
        {:des "focus on apps" :rules [:f-mode
                                      [:e [:focus "MacVim"]]
                                      [:h [:focus "Github Desktop"]]
                                      [:i [:focus "iTerm2"]]
                                      [:o [:focus "Code"]]]}]
     ;
 }
